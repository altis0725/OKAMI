# 最新版要求ファイル（十分なテスト後の本番導入用）
# ⚠️ 警告: ChromaDB 1.0.xは不可逆的なデータ移行を実行します
# ⚠️ 使用前に必ずバックアップを取得してください

# Core dependencies
crewai[tools]==0.165.1
fastapi==0.115.5
uvicorn[standard]==0.32.1
pydantic==2.11.7
pydantic-settings==2.7.0

# Database and storage - 最新版（要慎重なテスト）
chromadb==1.0.20  # ⚠️ 不可逆的移行！事前バックアップ必須
sqlalchemy==2.0.43
alembic==1.16.4

# Memory and knowledge
mem0ai==0.1.116
ollama==0.5.3  # 最新版、CrewAI統合問題の可能性あり

# Monitoring and logging
structlog==25.4.0

# Knowledge Graph
networkx==3.5
matplotlib==3.10.5
pyvis==0.3.2

# Utilities
python-dotenv==1.1.1
httpx>=0.27.0,<0.28.0
pyyaml==6.0.2

# テスト用依存関係（開発環境のみ）
pytest==8.3.3
pytest-cov==5.0.0
pytest-asyncio==0.25.0

# 互換性確保のための追加設定
# ChromaDB 1.0.x用の環境変数設定が必要：
# CHROMA_SERVER_AUTH_CREDENTIALS_FILE=/path/to/credentials
# CHROMA_SERVER_AUTH_CREDENTIALS_PROVIDER=token